
<!DOCTYPE html>


<html lang="en" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Data model &#8212; dispel 0.1.dev1 documentation</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=365ca57ee442770a23c6" rel="stylesheet" />
<link href="../_static/styles/bootstrap.css?digest=365ca57ee442770a23c6" rel="stylesheet" />
<link href="../_static/styles/pydata-sphinx-theme.css?digest=365ca57ee442770a23c6" rel="stylesheet" />

  
  <link href="../_static/vendor/fontawesome/6.1.2/css/all.min.css?digest=365ca57ee442770a23c6" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=a746c00c" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=365ca57ee442770a23c6" />
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=365ca57ee442770a23c6" />
  <script src="../_static/vendor/fontawesome/6.1.2/js/all.min.js?digest=365ca57ee442770a23c6"></script>

    <script src="../_static/documentation_options.js?v=6aee1ebc"></script>
    <script src="../_static/doctools.js?v=888ff710"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="https://unpkg.com/mermaid@10.2.0/dist/mermaid.min.js"></script>
    <script>mermaid.initialize({startOnLoad:true});</script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'usage/data_model';</script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Measure processing" href="measure_processing.html" />
    <link rel="prev" title="Providers" href="providers.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <a class="skip-link" href="#main-content">Skip to main content</a>
  
  <div id="pst-scroll-pixel-helper"></div>

  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>
    Back to top
  </button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search the docs ..."
         aria-label="Search the docs ..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
    <nav class="bd-header navbar navbar-expand-lg bd-navbar">
<div class="bd-header__inner bd-page-width">
  <label class="sidebar-toggle primary-toggle" for="__primary">
    <span class="fa-solid fa-bars"></span>
  </label>
  
  
  <div class="col-lg-3 navbar-header-items__start">
    
      <div class="navbar-item">
  

<a class="navbar-brand logo" href="../index.html">
  
  
  
  
  
    
    
      
    
    
    <img src="../_static/dispel-logo.png" class="logo__image only-light" alt="dispel 0.1.dev1 documentation - Home"/>
    <script>document.write(`<img src="../_static/dispel-logo.png" class="logo__image only-dark" alt="dispel 0.1.dev1 documentation - Home"/>`);</script>
  
  
</a></div>
    
  </div>
  
  <div class="col-lg-9 navbar-header-items">
    
    <div class="me-auto navbar-header-items__center">
      
        <div class="navbar-item"><nav class="navbar-nav">
  <p class="sidebar-header-items__title"
     role="heading"
     aria-level="1"
     aria-label="Site Navigation">
    Site Navigation
  </p>
  <ul class="bd-navbar-elements navbar-nav">
    
                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../installation.html">
                        Installation
                      </a>
                    </li>
                

                    <li class="nav-item current active">
                      <a class="nav-link nav-internal" href="../usage.html">
                        Usage
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../measures.html">
                        Measures
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../api/modules.html">
                        dispel
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../contributing.html">
                        Contributing
                      </a>
                    </li>
                
  </ul>
</nav></div>
      
    </div>
    
    
    <div class="navbar-header-items__end">
      
        <div class="navbar-item navbar-persistent--container">
          
 <script>
 document.write(`
   <button class="btn navbar-btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script>
        </div>
      
      
        <div class="navbar-item">
<script>
document.write(`
  <button class="btn btn-sm navbar-btn theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch nav-link" data-mode="light"><i class="fa-solid fa-sun fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="dark"><i class="fa-solid fa-moon fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="auto"><i class="fa-solid fa-circle-half-stroke fa-lg"></i></span>
  </button>
`);
</script></div>
      
    </div>
    
  </div>
  
  
    <div class="navbar-persistent--mobile">
 <script>
 document.write(`
   <button class="btn navbar-btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script>
    </div>
  

  
    <label class="sidebar-toggle secondary-toggle" for="__secondary" tabindex="0">
      <span class="fa-solid fa-outdent"></span>
    </label>
  
</div>

    </nav>
  
  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
      <div class="sidebar-header-items__center">
        
          <div class="navbar-item"><nav class="navbar-nav">
  <p class="sidebar-header-items__title"
     role="heading"
     aria-level="1"
     aria-label="Site Navigation">
    Site Navigation
  </p>
  <ul class="bd-navbar-elements navbar-nav">
    
                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../installation.html">
                        Installation
                      </a>
                    </li>
                

                    <li class="nav-item current active">
                      <a class="nav-link nav-internal" href="../usage.html">
                        Usage
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../measures.html">
                        Measures
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../api/modules.html">
                        dispel
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../contributing.html">
                        Contributing
                      </a>
                    </li>
                
  </ul>
</nav></div>
        
      </div>
    
    
    
      <div class="sidebar-header-items__end">
        
          <div class="navbar-item">
<script>
document.write(`
  <button class="btn btn-sm navbar-btn theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch nav-link" data-mode="light"><i class="fa-solid fa-sun fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="dark"><i class="fa-solid fa-moon fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="auto"><i class="fa-solid fa-circle-half-stroke fa-lg"></i></span>
  </button>
`);
</script></div>
        
      </div>
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item"><nav class="bd-docs-nav bd-links"
     aria-label="Section Navigation">
  <p class="bd-links__title" role="heading" aria-level="1">Section Navigation</p>
  <div class="bd-toc-item navbar-nav"><ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="providers.html">Providers</a></li>
<li class="toctree-l1 current active"><a class="current reference internal" href="#">Data model</a></li>
<li class="toctree-l1"><a class="reference internal" href="measure_processing.html">Measure processing</a></li>
<li class="toctree-l1"><a class="reference internal" href="statistical_analyses.html">Statistical analyses</a></li>
</ul>
</div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        
          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item">



<nav aria-label="Breadcrumb">
  <ul class="bd-breadcrumbs">
    
    <li class="breadcrumb-item breadcrumb-home">
      <a href="../index.html" class="nav-link" aria-label="Home">
        <i class="fa-solid fa-home"></i>
      </a>
    </li>
    
    <li class="breadcrumb-item"><a href="../usage.html" class="nav-link">Usage</a></li>
    
    <li class="breadcrumb-item active" aria-current="page">Data model</li>
  </ul>
</nav>
</div>
      
    </div>
  
  
</div>
</div>
              
              
              
                
<div id="searchbox"></div>
                <article class="bd-article" role="main">
                  
  <section id="data-model">
<span id="id1"></span><h1>Data model<a class="headerlink" href="#data-model" title="Link to this heading">#</a></h1>
<section id="reading">
<span id="reading-data-sets"></span><h2>Reading<a class="headerlink" href="#reading" title="Link to this heading">#</a></h2>
<p>The basic container for all data processed is a <a class="reference internal" href="../api/dispel.data.core.html#dispel.data.core.Reading" title="dispel.data.core.Reading"><code class="xref py py-class docutils literal notranslate"><span class="pre">Reading</span></code></a>.
_providers extend the library with reading functionality for specific file formats.
The function <a class="reference internal" href="../api/dispel.io.html#dispel.io.read" title="dispel.io.read"><code class="xref py py-func docutils literal notranslate"><span class="pre">read()</span></code></a> allows automatically parse registered formats into
the reading data model. The providers too come with functions that allow to read from
files directly, if the format is known.</p>
<p>As an example, we will read a file using the parsing for Ad Scientiam’s file
format. First you have to import and read in given a path:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">dispel.providers.ads.io</span> <span class="kn">import</span> <span class="n">read_ads</span>

<span class="n">reading</span> <span class="o">=</span> <span class="n">read_ads</span><span class="p">(</span><span class="s1">&#39;path/to/file.json&#39;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="level">
<h2>Level<a class="headerlink" href="#level" title="Link to this heading">#</a></h2>
<section id="level-definition">
<h3>Level definition<a class="headerlink" href="#level-definition" title="Link to this heading">#</a></h3>
<p>Tasks used to assess the performance of a subject can be composed of multiple
sub-tasks used to assess multiple aspects within a domain. To provide a
logical structure for data capture, these sub-tasks are structured in so
called <em>levels</em>. From a data analysis perspective a level is a logical unit of
analysis. For example, the <em>DRAW</em> task asks the subject to draw four different
shapes twice with both their left and right hand. Each attempt to draw a
shape with one hand is considered a level as one would derive measures for
analyses for each and everyone of them.</p>
</section>
<section id="identification-of-levels">
<h3>Identification of levels<a class="headerlink" href="#identification-of-levels" title="Link to this heading">#</a></h3>
<p>Levels are identified by their id that allows to uniquely select one scenario
out of the above mentioned modalities. The ids are derived from the lower case
name of the modality. Multiple modalities are separated with a dash
(<code class="docutils literal notranslate"><span class="pre">-</span></code>).</p>
<section id="cps">
<h4>CPS<a class="headerlink" href="#cps" title="Link to this heading">#</a></h4>
<ul class="simple">
<li><p>Symbol-to-digit/digit-to-digit</p>
<ul>
<li><p>Symbol-to-digit (<code class="docutils literal notranslate"><span class="pre">symbol_to_digit</span></code>)</p></li>
<li><p>Digit-to-digit (<code class="docutils literal notranslate"><span class="pre">digit_to_digit</span></code>)</p></li>
</ul>
</li>
</ul>
</section>
<section id="pinch-draw-grip">
<h4>PINCH / DRAW / GRIP<a class="headerlink" href="#pinch-draw-grip" title="Link to this heading">#</a></h4>
<ul class="simple">
<li><p>Hand</p>
<ul>
<li><p>Left (<code class="docutils literal notranslate"><span class="pre">left</span></code>)</p></li>
<li><p>Right (<code class="docutils literal notranslate"><span class="pre">right</span></code>)</p></li>
</ul>
</li>
<li><p>Shape</p>
<ul>
<li><p>Square counter-clock (<code class="docutils literal notranslate"><span class="pre">square_counter_clock</span></code>)</p></li>
<li><p>Square (<code class="docutils literal notranslate"><span class="pre">square</span></code>)</p></li>
<li><p>Figure 8 (<code class="docutils literal notranslate"><span class="pre">figure_eight</span></code>)</p></li>
<li><p>Spiral (<code class="docutils literal notranslate"><span class="pre">spiral</span></code>)</p></li>
</ul>
</li>
<li><p>Attempt</p>
<ul>
<li><p>1st attempt (<code class="docutils literal notranslate"><span class="pre">1</span></code>)</p></li>
<li><p>2nd attempt (<code class="docutils literal notranslate"><span class="pre">2</span></code>)</p></li>
</ul>
</li>
</ul>
<p>An example for <em>DRAW</em> would be <code class="docutils literal notranslate"><span class="pre">left_square_1</span></code>.</p>
</section>
</section>
<section id="relationships">
<h3>Relationships<a class="headerlink" href="#relationships" title="Link to this heading">#</a></h3>
<p>The following diagram illustrated the class relationships between <code class="docutils literal notranslate"><span class="pre">Reading</span></code>, <code class="docutils literal notranslate"><span class="pre">Level</span></code>, <code class="docutils literal notranslate"><span class="pre">RawDataSet</span></code>, <code class="docutils literal notranslate"><span class="pre">LevelEpoch</span></code> and <code class="docutils literal notranslate"><span class="pre">MeasureSet</span></code>.</p>
<div class="mermaid">
            classDiagram
    class Reading {
        -levels: Dict[str, Level]
        ...
        +get_level(id_: Union[str, LevelId]): Level
    }
    class LevelId{
        +id: str
        +modalities: Tuple[str, ...]
        +from_modalities(*modalities): LevelId
    }
    class LevelEpoch{
        ...
    }
    class Level{
        +id: LevelId
        -_raw_data_sets: Dict[str, RawDataSet]
        -_measure_set: MeasureSet
        +get_raw_data_set(id_: str): RawDataSet
        +epochs: List[LevelEpoch]
        +get_measure_set(): MeasureSet
        +get_measure(id_: str): MeasureValue
    }
    Level &quot;1&quot; --&gt; &quot;1&quot; LevelId
    Level &quot;1&quot; --&gt; &quot;0..*&quot; LevelEpoch
    class RawDataSet
    class MeasureSet
    Reading &quot;1&quot; --&gt; &quot;1..*&quot; Level
    Level &quot;1&quot; --&gt; &quot;0..*&quot; RawDataSet
    Reading &quot;1&quot; --&gt; &quot;0..1&quot; MeasureSet
    Level &quot;1&quot; --&gt; &quot;0..1&quot; MeasureSet
        </div></section>
<section id="extracting-a-level">
<h3>Extracting a Level<a class="headerlink" href="#extracting-a-level" title="Link to this heading">#</a></h3>
<p>To get access to one of the <a class="reference internal" href="../api/dispel.data.levels.html#dispel.data.levels.Level" title="dispel.data.levels.Level"><code class="xref py py-class docutils literal notranslate"><span class="pre">dispel.data.levels.Level</span></code></a> use the method
<a class="reference internal" href="../api/dispel.data.core.html#dispel.data.core.Reading.get_level" title="dispel.data.core.Reading.get_level"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_level()</span></code></a>:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">level</span> <span class="o">=</span> <span class="n">reading</span><span class="o">.</span><span class="n">get_level</span><span class="p">(</span><span class="s1">&#39;&lt;level_id&gt;&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>where <code class="docutils literal notranslate"><span class="pre">&lt;level_id&gt;</span></code> has to be replaced with the desired <code class="docutils literal notranslate"><span class="pre">level_id</span></code>. e.g.
if you have a reading of the CPS test, you can use
<code class="docutils literal notranslate"><span class="pre">level_id</span> <span class="pre">=</span> <span class="pre">'digit_to_symbol'</span></code>.</p>
<p>One can also extract all levels from a <a class="reference internal" href="../api/dispel.data.core.html#dispel.data.core.Reading" title="dispel.data.core.Reading"><code class="xref py py-class docutils literal notranslate"><span class="pre">Reading</span></code></a> using
<a class="reference internal" href="../api/dispel.data.core.html#dispel.data.core.Reading.levels" title="dispel.data.core.Reading.levels"><code class="xref py py-attr docutils literal notranslate"><span class="pre">levels</span></code></a>:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">levels</span> <span class="o">=</span> <span class="n">reading</span><span class="o">.</span><span class="n">levels</span>
</pre></div>
</div>
</section>
</section>
<section id="levelepoch">
<h2>LevelEpoch<a class="headerlink" href="#levelepoch" title="Link to this heading">#</a></h2>
<p><a class="reference internal" href="../api/dispel.data.levels.html#dispel.data.levels.LevelEpoch" title="dispel.data.levels.LevelEpoch"><code class="xref py py-class docutils literal notranslate"><span class="pre">LevelEpoch</span></code></a> allow to describe specific time periods
in levels with measures. They can be used to both process and extract data
and measures for those specific epochs in time.</p>
</section>
<section id="rawdataset">
<h2>RawDataSet<a class="headerlink" href="#rawdataset" title="Link to this heading">#</a></h2>
<p>A <a class="reference internal" href="../api/dispel.data.raw.html#dispel.data.raw.RawDataSet" title="dispel.data.raw.RawDataSet"><code class="xref py py-class docutils literal notranslate"><span class="pre">RawDataSet</span></code></a> is a data structure with a pandas
data frame encapsulated with a <a class="reference internal" href="../api/dispel.data.raw.html#dispel.data.raw.RawDataSetDefinition" title="dispel.data.raw.RawDataSetDefinition"><code class="xref py py-class docutils literal notranslate"><span class="pre">RawDataSetDefinition</span></code></a>
composed with information about the data source, and a short description of
the values in RawDataSet (see
<a class="reference internal" href="../api/dispel.data.raw.html#dispel.data.raw.RawDataValueDefinition" title="dispel.data.raw.RawDataValueDefinition"><code class="xref py py-class docutils literal notranslate"><span class="pre">RawDataValueDefinition</span></code></a>).</p>
<div class="mermaid">
            classDiagram
    class RawDataSet{
        +definition: RawDataSetDefinition
        +data: pandas.DataFrame}
    class RawDataSetDefinition{
        +id_: str
        +source: RawDataSource
        +value_definitions: Iterable[ RawDataValueDefinition]
        +is_computed: bool
    }
    RawDataSet &quot;1&quot; --&gt; &quot;1&quot; RawDataSetDefinition
        </div><section id="extracting-a-rawdataset">
<h3>Extracting a RawDataSet<a class="headerlink" href="#extracting-a-rawdataset" title="Link to this heading">#</a></h3>
<p>To get access to one of the <a class="reference internal" href="../api/dispel.data.raw.html#dispel.data.raw.RawDataSet" title="dispel.data.raw.RawDataSet"><code class="xref py py-class docutils literal notranslate"><span class="pre">RawDataSet</span></code></a> s contained in
the Level, simply call</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">data</span> <span class="o">=</span> <span class="n">level</span><span class="o">.</span><span class="n">get_raw_data_set</span><span class="p">(</span><span class="s1">&#39;&lt;id&gt;&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>where <code class="docutils literal notranslate"><span class="pre">&lt;id&gt;</span></code> has to be replaced with the data set ids, for the cps example
with <cite>level_id = ‘digit_to_symbol’</cite> one may use <code class="docutils literal notranslate"><span class="pre">id</span> <span class="pre">=</span> <span class="pre">'userInput'</span></code>.</p>
</section>
</section>
<section id="minimum-working-example">
<h2>Minimum working example<a class="headerlink" href="#minimum-working-example" title="Link to this heading">#</a></h2>
<p>We illustrate how to get a <code class="docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code> with formatted data from a
json file with an example, reading data from a CPS experiment at the level
<cite>symbol-to-digit</cite> with key <code class="docutils literal notranslate"><span class="pre">level_id</span> <span class="pre">=</span> <span class="pre">'digit_to_symbol'</span></code> and
<a class="reference internal" href="../api/dispel.data.raw.html#dispel.data.raw.RawDataSet" title="dispel.data.raw.RawDataSet"><code class="xref py py-class docutils literal notranslate"><span class="pre">dispel.data.raw.RawDataSet</span></code></a> id set to <code class="docutils literal notranslate"><span class="pre">id</span> <span class="pre">=</span> <span class="pre">'userInput'</span></code>.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">dispel.io.ads</span> <span class="kn">import</span> <span class="n">read_ads</span>

<span class="c1"># path to json</span>
<span class="n">path</span> <span class="o">=</span> <span class="s2">&quot;./tests/io/_resources/ads/CPS/example.json&quot;</span>

<span class="c1"># read ads</span>
<span class="n">reading</span> <span class="o">=</span> <span class="n">read_ads</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>

<span class="c1"># extract dataset</span>
<span class="n">data_set</span> <span class="o">=</span> <span class="n">reading</span><span class="o">.</span><span class="n">get_level</span><span class="p">(</span><span class="s1">&#39;digit_to_symbol&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">get_raw_data_set</span><span class="p">(</span><span class="s1">&#39;userInput&#39;</span><span class="p">)</span>

<span class="c1"># get dataframe from data_set</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">data_set</span><span class="o">.</span><span class="n">data</span>
</pre></div>
</div>
</section>
<section id="flag">
<h2>Flag<a class="headerlink" href="#flag" title="Link to this heading">#</a></h2>
<p><a class="reference internal" href="../api/dispel.data.flags.html#dispel.data.flags.Flag" title="dispel.data.flags.Flag"><code class="xref py py-class docutils literal notranslate"><span class="pre">Flag</span></code></a>s provide a structured way to
mark entities as valid. Those flags can originate from both technical
issues (<a class="reference internal" href="../api/dispel.data.flags.html#dispel.data.flags.FlagType.TECHNICAL" title="dispel.data.flags.FlagType.TECHNICAL"><code class="xref py py-attr docutils literal notranslate"><span class="pre">TECHNICAL</span></code></a>) with the
underlying data capture or behavioural aspects (
<a class="reference internal" href="../api/dispel.data.flags.html#dispel.data.flags.FlagType.BEHAVIORAL" title="dispel.data.flags.FlagType.BEHAVIORAL"><code class="xref py py-attr docutils literal notranslate"><span class="pre">BEHAVIORAL</span></code></a>)
of subjects performing tests not according to their respective protocol.</p>
<p>Flags are supported for <a class="reference internal" href="../api/dispel.data.core.html#dispel.data.core.Reading" title="dispel.data.core.Reading"><code class="xref py py-class docutils literal notranslate"><span class="pre">Reading</span></code></a>s,
<a class="reference internal" href="../api/dispel.data.levels.html#dispel.data.levels.Level" title="dispel.data.levels.Level"><code class="xref py py-class docutils literal notranslate"><span class="pre">Level</span></code></a>s, <a class="reference internal" href="../api/dispel.data.raw.html#dispel.data.raw.RawDataSet" title="dispel.data.raw.RawDataSet"><code class="xref py py-class docutils literal notranslate"><span class="pre">RawDataSet</span></code></a>s and
<a class="reference internal" href="../api/dispel.data.measures.html#dispel.data.measures.MeasureValue" title="dispel.data.measures.MeasureValue"><code class="xref py py-class docutils literal notranslate"><span class="pre">MeasureValue</span></code></a>s.</p>
<p><a class="reference internal" href="../api/dispel.data.flags.html#dispel.data.flags.FlagMixIn.is_valid" title="dispel.data.flags.FlagMixIn.is_valid"><code class="xref py py-meth docutils literal notranslate"><span class="pre">is_valid()</span></code></a> indicates if a
particular entity is valid and
<a class="reference internal" href="../api/dispel.data.flags.html#dispel.data.flags.FlagMixIn.get_flags" title="dispel.data.flags.FlagMixIn.get_flags"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_flags()</span></code></a> allows to
retrieve all reasons why a particular entity was flagged.</p>
<p>Flags contain both an identifier and a reason. The <code class="docutils literal notranslate"><span class="pre">id</span></code> contains
three pieces of information:</p>
<blockquote>
<div><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">task_name</span></code> e.g. <cite>CPS</cite> etc.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">flag_type</span></code> e.g. <cite>technical</cite>, <cite>behavioral</cite> etc.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">flag_severity</span></code> e.g. <cite>deviation</cite> or <cite>invalidation</cite></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">flag_name</span></code> e.g. <cite>tilt_angle</cite>, <cite>pressure_range</cite> etc.</p></li>
</ul>
</div></blockquote>
<p>And the <code class="docutils literal notranslate"><span class="pre">reason</span></code> contains a more descriptive message of the data
flag.</p>
<p>Flags can be defined as follows:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">flag</span>

<span class="o">&gt;&gt;&gt;</span> <span class="kn">from</span> <span class="nn">dispel.data.values</span> <span class="kn">import</span> <span class="n">AbbreviatedValue</span> <span class="k">as</span> <span class="n">AV</span>
<span class="o">&gt;&gt;&gt;</span> <span class="kn">from</span> <span class="nn">dispel.data.flags</span> <span class="kn">import</span> <span class="n">Flag</span><span class="p">,</span> <span class="n">FlagId</span><span class="p">,</span> <span class="n">FlagSeverity</span><span class="p">,</span> <span class="n">FlagType</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">flag_id</span> <span class="o">=</span> <span class="n">FlagId</span><span class="p">(</span>
<span class="o">...</span>     <span class="n">task_name</span><span class="o">=</span><span class="n">AV</span><span class="p">(</span><span class="s1">&#39;Pinch test&#39;</span><span class="p">,</span> <span class="s1">&#39;pinch&#39;</span><span class="p">),</span>
<span class="o">...</span>     <span class="n">flag_name</span><span class="o">=</span><span class="n">AV</span><span class="p">(</span><span class="s1">&#39;Tilt angle&#39;</span><span class="p">,</span> <span class="s1">&#39;ta&#39;</span><span class="p">),</span>
<span class="o">...</span>     <span class="n">flag_type</span><span class="o">=</span><span class="n">FlagType</span><span class="o">.</span><span class="n">BEHAVIORAL</span><span class="p">,</span>
<span class="o">...</span>     <span class="n">flag_severity</span><span class="o">=</span><span class="n">FlagSeverity</span><span class="o">.</span><span class="n">DEVIATION</span><span class="p">,</span>
<span class="o">...</span> <span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">flag_id</span>
<span class="n">pinch</span><span class="o">-</span><span class="n">behavioral</span><span class="o">-</span><span class="n">deviation</span><span class="o">-</span><span class="n">ta</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">flag</span> <span class="o">=</span> <span class="n">Flag</span><span class="p">(</span>
<span class="o">...</span>     <span class="n">id_</span><span class="o">=</span><span class="n">flag_id</span><span class="p">,</span>
<span class="o">...</span>     <span class="n">reason</span><span class="o">=</span><span class="s1">&#39;The tilt angle of the phone is too flat during the Pinch &#39;</span>
<span class="o">...</span>            <span class="s1">&#39;test.&#39;</span>
<span class="o">...</span> <span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">flag</span>
<span class="n">Flag</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="n">pinch</span><span class="o">-</span><span class="n">behavioral</span><span class="o">-</span><span class="n">deviation</span><span class="o">-</span><span class="n">ta</span><span class="p">,</span> <span class="n">reason</span><span class="o">=</span><span class="s1">&#39;The tilt angle of the phone is too flat during the ...</span>
</pre></div>
</div>
</section>
</section>


                </article>
              
              
              
              
              
                <footer class="prev-next-footer">
                  <!-- Previous / next buttons -->
<div class="prev-next-area">
    <a class="left-prev"
       href="providers.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Providers</p>
      </div>
    </a>
    <a class="right-next"
       href="measure_processing.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Measure processing</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">

  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> On this page
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#reading">Reading</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#level">Level</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#level-definition">Level definition</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#identification-of-levels">Identification of levels</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#cps">CPS</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#pinch-draw-grip">PINCH / DRAW / GRIP</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#relationships">Relationships</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#extracting-a-level">Extracting a Level</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#levelepoch">LevelEpoch</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#rawdataset">RawDataSet</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#extracting-a-rawdataset">Extracting a RawDataSet</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#minimum-working-example">Minimum working example</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#flag">Flag</a></li>
</ul>
  </nav></div>

  <div class="sidebar-secondary-item">
  <div class="tocsection sourcelink">
    <a href="../_sources/usage/data_model.rst.txt">
      <i class="fa-solid fa-file-lines"></i> Show Source
    </a>
  </div>
</div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
          </footer>
        
      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/bootstrap.js?digest=365ca57ee442770a23c6"></script>
<script src="../_static/scripts/pydata-sphinx-theme.js?digest=365ca57ee442770a23c6"></script>

  <footer class="bd-footer">
<div class="bd-footer__inner bd-page-width">
  
    <div class="footer-items__start">
      
        <div class="footer-item">
  <p class="sphinx-version">
    Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 7.2.6.
    <br/>
  </p>
</div>
      
    </div>
  
  
  
    <div class="footer-items__end">
      
        <div class="footer-item"><p class="theme-version">
  Built with the <a href="https://pydata-sphinx-theme.readthedocs.io/en/stable/index.html">PyData Sphinx Theme</a> 0.14.3.
</p></div>
      
    </div>
  
</div>

  </footer>
  </body>
</html>